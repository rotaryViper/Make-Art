var canvas,res,ctx;function fill(){ctx.fillStyle="#"+Math.floor(16777215*Math.random()).toString(16),ctx.fillRect(0,0,res,res)}function lines(){for(let a=0;300!=a;a++)ctx.strokeStyle="#"+Math.floor(16777215*Math.random()).toString(16),ctx.font=Math.random()*res/4+"px Arial",angle=360*Math.random(),scale=Math.cos(angle),rotate=Math.sin(angle),ctx.setTransform(scale,rotate,-rotate,scale,Math.random()*res,Math.random()*res),ctx.strokeText(String.fromCharCode(~~(1e16*Math.random())),0,0),ctx.setTransform(1,0,0,1,0,0)}onmessage=function(a){"startup"==a.data.msg&&(canvas=a.data.canvas,res=a.data.res,ctx=canvas.getContext("2d",{alpha:!1,desynchronized:!0}),fill(),lines()),"fill"==a.data.msg&&fill(),"lines"==a.data.msg&&lines()};